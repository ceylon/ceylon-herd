#{extends 'main.html' /}
#{set title:'List of modules' /}

<div class="alert">
    Note that this is a test Ceylon repo, which will be dropped after Ceylon hits 1.0.
</div>

#{if modules.empty}
    <div class="alert alert-info">
        No module in repository yet.
    </div>
#{/if}
#{else}
    <table class="table table-striped">
        <caption>
            #{if flash.myModules} List of my own modules#{/if}
            #{else }List of modules#{/else}
        </caption>

        <tbody>
            #{list items:modules, as:'module'}
                <tr>
                    <td><a href="@{Repo.versions(module.name)}" title="View published versions">${module.name}</a></td>
                    <td>
                        #{if module.canEdit(user)}
                            <a href="@{LoggedInRepo.editForm(module.name)}" 
                               title="Edit this module"
                               class="btn btn-mini pull-right"><i class="icon-edit"></i> Edit</a>
                        #{/if}
                    </td>
                </tr>
            #{/list}
        </tbody>
    </table>
#{/else}
